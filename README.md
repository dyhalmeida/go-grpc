# Go gRPC Project

Este projeto é uma aplicação de exemplo que utiliza Go e gRPC para cadastrar categorias. O objetivo é demonstrar como configurar e usar gRPC com Go para construir APIs modernas.

## Pré-requisitos

Antes de começar, certifique-se de ter o Go instalado na sua máquina. Você pode baixar e instalar o Go a partir do [site oficial](https://golang.org/dl/).

[Certifique-se também de ter instalado o compilador protocol buffer e os plugins do gRPC para Golang](https://grpc.io/docs/languages/go/quickstart/).


## Instalação

1. Clone o repositório para a sua máquina local:
    ```sh
    git clone https://github.com/dyhalmeida/go-grpc.git
    cd go-grpc
    ```

2. Instale as dependências do projeto:
    ```sh
    go mod tidy
    ```

2. Crie as tabelas no SQLite:
    ```sh
    sqlite3 database.db < ./internal/database/create_table.sql 
    ```

## Executando o Projeto

1. Inicie o servidor gRPC:
    ```sh
    go run cmd/grpcServer/main.go
    ```

2. Para utilizar essa api e se comunicar com o servidor gRPC, recomendo o [Evans client gRPC](https://github.com/ktr0731/evans). Nos históricos dos commits é possível encontrar docs de como fazer uma chamada para o CategoryService usando o Evans

## Histórico de commits

- feat: add .gitignore to exclude database.db file - [`c9bd60e`](https://github.com/dyhalmeida/go-grpc/commit/c9bd60e5098a0b163f167fd49aa567e921709351)

- feat: implement CreateCategoryStreamBidirectional method in CategoryService for gRPC - [`752c164`](https://github.com/dyhalmeida/go-grpc/commit/752c1641ff2d82d3a045ee1e02817b48b6c579c0)
   - docs: i used the command below to create a category via gRPC.
    1. `go run cmd/grpcServer/main.go`
    2. Execute evans gRPC client
        ```bash
        package pb
        service CategoryService
        call CreateCategoryStreamBidirectional
        ```
- feat: generate gRPC service for CreateCategoryStreamBidirectional - [`f752112`](https://github.com/dyhalmeida/go-grpc/commit/f752112df30cf33adc8c2cb632ff2f0ae9c4873d)
   - docs: the code for this commit was generated by the commands below
      - `protoc --go_out=. --go-grpc_out=. proto/entities.proto`

- feat: add protobuf definitions for CreateCategory stream bidirectional - [`17e27e5`](https://github.com/dyhalmeida/go-grpc/commit/17e27e5c28f9a2520c89034b1a334eca828f5c46)

- feat: implement CreateCategoryStream method in CategoryService for gRPC - [`94ed496`](https://github.com/dyhalmeida/go-grpc/commit/94ed49607ace6d1935a2870df178fbc698199278)
   - docs: i used the command below to create a category via gRPC.
    1. `go run cmd/grpcServer/main.go`
    2. Execute evans gRPC client
        ```bash
        evans -r repl
        package pb
        service CategoryService
        call CreateCategoryStream
        ```

- feat: generate gRPC service for CreateCategoryStream - [`679ddcc`](https://github.com/dyhalmeida/go-grpc/commit/679ddcc669e3cfb4d89c5cb6217dee1818ef78c3)
   - docs: the code for this commit was generated by the commands below
      - `protoc --go_out=. --go-grpc_out=. proto/entities.proto`

- feat: add protobuf definitions for CreateCategory stream - [`4dc0b35`](https://github.com/dyhalmeida/go-grpc/commit/4dc0b35eebf8ba87671bd4b36ba5b0f78ba7aaac)

- feat: implement GetCategoryById method in CategoryService for gRPC - [`0bb53b1`](https://github.com/dyhalmeida/go-grpc/commit/0bb53b1ba98c111700abcde2c2ec1fcdc947d1e3)
   - docs: i used the command below to create a category via gRPC.
    1. `go run cmd/grpcServer/main.go`
    2. Execute evans gRPC client
        ```bash
        evans -r repl
        package pb
        service CategoryService
        call GetCategoryById
        ```

- feat: add Find method to retrieve a category by ID from the database - [`c36593b`](https://github.com/dyhalmeida/go-grpc/commit/c36593b381a020610f47e6ab0589840ccc0acf34)

- feat: generate gRPC service for GetCategoryById - [`6b0fc7f`](https://github.com/dyhalmeida/go-grpc/commit/6b0fc7f2f4115cb31ff9acd023feb1fd6b64d0b8)
   - docs: the code for this commit was generated by the commands below
    - `protoc --go_out=. --go-grpc_out=. proto/entities.proto`

- feat: add protobuf definitions for GetCategoryById - [`3331af5`](https://github.com/dyhalmeida/go-grpc/commit/3331af54d68d5d99de15bc830dd3d2daf64ecaf8)

- feat: implement ListCategories method in CategoryService for gRPC - [`62f5ca1`](https://github.com/dyhalmeida/go-grpc/commit/62f5ca16f8a9ee59c73a956c458652a3cd322ed9)
   - docs: i used the command below to create a category via gRPC.
    1. `go run cmd/grpcServer/main.go`
    2. Execute evans gRPC client
        ```bash
        evans -r repl
        package pb
        service CategoryService
        call ListCategories
        ```

- feat: generate gRPC service for ListCategories - [`5595e10`](https://github.com/dyhalmeida/go-grpc/commit/5595e10d217c13cab0803098e114f9378e1efeca)
   - docs: the code for this commit was generated by the commands below
      - `protoc --go_out=. --go-grpc_out=. proto/entities.proto`

- feat: add protobuf definitions for ListCategories - [`bb4df6e`](https://github.com/dyhalmeida/go-grpc/commit/bb4df6e261b0edb1e3ad78d8cb760e0d7f3edc73)

- feat: add gRPC server implementation for CategoryService - [`4a5e7d7`](https://github.com/dyhalmeida/go-grpc/commit/4a5e7d7d72b247763f541d4edccf7141204d2b56)
   - docs: i used the command below to create the tables in sqlite,
run the gRPC server and make a call to the CreateCategory service and create a category via gRPC.

      1. `sqlite3 database.db < ./internal/database/create_table.sql`
      2. `go run cmd/grpcServer/main.go`
      3. Install evans gRPC client
        ```bash
        go install github.com/ktr0731/evans@latest
        evans -r repl
        package pb
        service CategoryService
        call CreateCategory
        ```

- feat: implement CategoryService for gRPC with CreateCategory method - [`f26dde4`](https://github.com/dyhalmeida/go-grpc/commit/f26dde4e67790377848c86e4d87608a2a6447d0e)

- feat: generate gRPC service for Category - [`a2ac9d5`](https://github.com/dyhalmeida/go-grpc/commit/a2ac9d5ec08ea8a0745e819c16f3a08bb55959f0)
   - docs: the code for this commit was generated by the commands below
      1. `brew install protobuf`
      2. `go install google.golang.org/protobuf/cmd/protoc-gen-go@latest`
      3. `go install google.golang.org/grpc/cmd/protoc-gen-go-grpc@latest`
      4. `protoc --go_out=. --go-grpc_out=. proto/entities.proto`

- feat: add protobuf definitions for Category - [`9306b4a`](https://github.com/dyhalmeida/go-grpc/commit/9306b4a59135f3ce44025ce3ecd83d49dd7fdf78)

- feat: initialize database schema and models for categories and courses - [`ad3d772`](https://github.com/dyhalmeida/go-grpc/commit/ad3d7720f8a9008bea221f557085c27be72de1d3)
